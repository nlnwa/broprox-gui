<button md-raised-button (click)="goBack()">Tilbake</button>

<h2>Seed Details</h2>
<form [formGroup]="seedForm" fxLayout="column">

  <div class="switch">
    <md-slide-toggle>Aktiv</md-slide-toggle>
  </div>


  <ng-container formGroupName="entity_id">
    <md-form-field>
      <input mdInput formControlName="entity_name" (click)="goToEntity()" placeholder="Entitet">
    </md-form-field>
  </ng-container>

  <ng-container formGroupName="meta">
    <md-form-field>
      <input mdInput formControlName="name" placeholder="Seed">
    </md-form-field>
  </ng-container>

  <div>
    <label>HÃ¸stejobb:
      <angular2-multiselect [data]="crawljobList"
                            [(ngModel)]="selectedCrawljobItems"
                            [settings]="dropdownCrawljobSettings"
                            formControlName="job_id">
      </angular2-multiselect>
    </label>
  </div>

  <ng-container formGroupName="meta">
    <md-form-field>
      <input mdInput formControlName="description" placeholder="Description">
    </md-form-field>
  </ng-container>

  <!-- Labels -->

  <md-expansion-panel formArrayName="label">
    <md-expansion-panel-header>
      <md-panel-title>
        Merkelapp
      </md-panel-title>
      <md-panel-description>
        Merkelapp beskrivelse
      </md-panel-description>
    </md-expansion-panel-header>
    <md-card *ngFor="let label of label.controls; let i=index" [formGroupName]="i">
      <md-card-header>
        <md-card-title>Merkelapp #{{i + 1}}</md-card-title>
      </md-card-header>
      <md-card-content>
        <md-form-field>
          <input mdInput formControlName="key" placeholder="Type">
        </md-form-field>

        <md-form-field>
          <input mdInput formControlName="value" placeholder="Value">
        </md-form-field>
        <button md-icon-button (click)="removeLabel(i)">
          <md-icon>close</md-icon>
        </button>
      </md-card-content>
    </md-card>
    <button md-raised-button color="accent" (click)="addLabel()">Legg til merkelapp</button>
  </md-expansion-panel>

  <!-- Flere detaljer -->

  <md-expansion-panel>
    <md-expansion-panel-header>
      <md-panel-title>
        Flere detaljer
      </md-panel-title>
      <md-panel-description>
        Flere detaljer beskrivelse
      </md-panel-description>
    </md-expansion-panel-header>

    <div fxLayout="column">
      <md-form-field formGroupName="scope">
        <input mdInput
               formControlName="surt_prefix"
               placeholder="Scope">
      </md-form-field>

      <md-form-field>
        <input mdInput
               formControlName="id"
               placeholder="Id">
      </md-form-field>

      <ng-container formGroupName="meta">


        <md-form-field formGroupName="created">
          <input mdInput
                 formControlName="seconds"
                 placeholder="Created">
        </md-form-field>

        <md-form-field>
          <input mdInput
                 formControlName="created_by"
                 placeholder="Created by">
        </md-form-field>


        <md-form-field formGroupName="last_modified">
          <input mdInput
                 formControlName="seconds"
                 placeholder="Last modified">
        </md-form-field>


        <md-form-field>
          <input mdInput
                 formControlName="last_modified_by"
                 placeholder="Last modified by">
        </md-form-field>

      </ng-container>
    </div>
  </md-expansion-panel>

  <div>
    <button md-raised-button color="primary"
            [disabled]="!seedForm.valid"
            (click)="updateSeed(seedForm.value)">Lagre
    </button>
    <button md-raised-button color="accent"
            (click)="revert()">Tilbakestill
    </button>
    <button md-raised-button color="warn"
            (click)="deleteSeed()">Slett
    </button>
  </div>
</form>

