<div class="col-md-12">
  <h2 *ngIf="crawlhostgroupconfig.id">Crawlhostgroupconfig Details</h2>
  <h2 *ngIf="!crawlhostgroupconfig.id">New Crawlhostgroupconfig</h2>
</div>

<form [formGroup]="crawlhostgroupconfigForm">

  <div class="form-group" formGroupName="meta">
    <label class="center-block">Navn:
      <input class="form-control" formControlName="name">
    </label>
    <small [hidden]="crawlhostgroupconfigForm.controls.meta.valid" class="text-danger">
      Name required.
    </small>
  </div>
  <div class="form-group" formGroupName="meta">
    <label class="center-block">Beskrivelse:
      <input class="form-control" formControlName="description">
    </label>
  </div>
  {{crawlhostgroupconfigForm.controls}}
   <div class = "form-group">
     <div formArrayName="ip_range" class="well well-lg">
       <div *ngFor="let ip_range of ip_range.controls; let i=index" [formGroupName]="i">
         <div class="panel-heading">
           <span>IP-range #{{i +1}}</span>
           <span class="glyphicon glyphicon-remove pull-right" (click)="removeIpRange(i)"></span>
         </div>
         <div class="form-group">
           <label class="center-block">Fra IP:
             <input class="form-control" formControlName="ip_from">
           </label>
           <small [hidden]="crawlhostgroupconfigForm.controls.ip_range.controls[i].controls.ip_from.valid" class="text-danger">
             Valid IP address required.
           </small>
         </div>
         <div class="form-group">
           <label class="center-block">Til IP:
             <input class="form-control" formControlName="ip_to">
             <small [hidden]="crawlhostgroupconfigForm.controls.ip_range.controls[i].controls.ip_to.valid" class="text-danger">
               Valid IP address required.
             </small>
           </label>
         </div>
       </div>
       <button class="btn btn-info" (click)="addIpRange()" type="button">Legg til IP-range</button>
     </div>
   </div>

    <div class="form-group">

      <div formArrayName="label" class="well well-lg">
        <div *ngFor="let label of label.controls; let i=index" [formGroupName]="i">
          <div class="panel-heading">
            <span>Merkelapp #{{i + 1}}</span>
            <span class="glyphicon glyphicon-remove pull-right" (click)="removeLabel(i)"></span>
          </div>

          <div class="form-group">
            <label class="center-block">Type:
              <input class="form-control" formControlName="key">
            </label>
          </div>
          <div class="form-group">
            <label class="center-block">Verdi:
              <input class="form-control" formControlName="value">
            </label>
          </div>
        </div>
        <button class="btn btn-info" (click)="addLabel()" type="button">Legg til merkelapp</button>
      </div>
    </div>


  <button class="btn btn-primary" [disabled]="!crawlhostgroupconfigForm.valid" *ngIf="!crawlhostgroupconfig.id"
          (click)="createCrawlhostgroupconfig(crawlhostgroupconfigForm.value)" novalidate>
    Lagre
  </button>
  <button class="btn btn-primary" *ngIf="crawlhostgroupconfig.id" [disabled]="!crawlhostgroupconfigForm.valid"
          (click)="updateCrawlhostgroupconfig(crawlhostgroupconfigForm.value)">Lagre

  </button>
  <button class="btn btn-success" (click)="revert()">Tilbakestill</button>

  <button class="btn btn-danger" *ngIf="crawlhostgroupconfig.id"
          (click)="deleteCrawlhostgroupconfig(crawlhostgroupconfig.id); $event.stopPropagation()">Slett
  </button>


</form>
