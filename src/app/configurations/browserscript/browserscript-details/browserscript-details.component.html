<h2 *ngIf="browserScript.id">Browserscript Details</h2>
<h2 *ngIf="!browserScript.id">New Browserscript</h2>


<form [formGroup]="browserScriptFG" fxLayout="column">

  <md-form-field formGroupName="meta">
    <input mdInput formControlName="name" placeholder="Navn">
    <md-error *ngIf="! browserScriptFG.controls.meta.valid">
      Navn er påkrevd.
    </md-error>
  </md-form-field>

  <md-form-field formGroupName="meta">
    <input mdInput formControlName="description" placeholder="Beskrivelse">
  </md-form-field>

  <md-form-field>
    <textarea mdInput formControlName="script" placeholder="Script"></textarea>
    <md-error *ngIf="! browserScriptFG.controls.script.valid">
      Script er påkrevd.
    </md-error>
  </md-form-field>

  <ng-container formGroupName="meta">
    <app-labels type="Label" formControlName="label"></app-labels>
  </ng-container>

    <div>
      <button md-raised-button color="primary"
              [disabled]="!browserScriptFG.valid"
              *ngIf="!browserScript.id"
              (click)="createBrowserScript(browserScriptFG.value)"
              novalidate>Lagre
      </button>
      <button md-raised-button color="primary"
              *ngIf="browserScript.id" [disabled]="!browserScriptFG.valid"
              (click)="updateBrowserScript(browserScriptFG.value)">
        Lagre
      </button>
      <button md-raised-button color="accent"
              (click)="revert()">Tilbakestill
      </button>
      <button md-raised-button color="warn"
              *ngIf="browserScript.id"
              (click)="deleteBrowserScript(browserScript.id); $event.stopPropagation()">Slett
      </button>
    </div>
  </form>
