<div class="col-md-5">
  <h2 *ngIf="schedule.id">Schedule Details</h2>
  <h2 *ngIf="!schedule.id">New Schedule</h2>
  <form [formGroup]="scheduleForm">
    <div class="form-group" formGroupName="meta">
      <label class="center-block">Navn:
        <input class="form-control" formControlName="name">
      </label>
    </div>
    <div class="form-group" formGroupName="meta">
      <label class="center-block">Beskrivelse:
        <input class="form-control" formControlName="description">
      </label>
    </div>
    <div class="form-group" formGroupName="cron_expression">
      <label class="center-block">Cron Expression:
        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
          <thead>
          <tr>
            <th class="mdl-data-table__cell--non-numeric">Minutes</th>
            <th class="mdl-data-table__cell--non-numeric">Hours</th>
            <th class="mdl-data-table__cell--non-numeric">DOM</th>
            <th class="mdl-data-table__cell--non-numeric">Month</th>
            <th class="mdl-data-table__cell--non-numeric">DOW</th>
          </tr>
          </thead>
          <tbody>
          <th><input class="form-control_cron" formControlName="minute"></th>
          <th><input class="form-control_cron" formControlName="hour"></th>
          <th><input class="form-control_cron" formControlName="dom"></th>
          <th><input class="form-control_cron" formControlName="month"></th>
          <th><input class="form-control_cron" formControlName="dow"></th>
          </tbody>
        </table>
      </label>
    </div>
    <div class="form-group" formGroupName="valid_from">
      <label class="center-block">Valid from:
        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
          <thead>
          <tr>
            <th class="mdl-data-table__cell--non-numeric">Year</th>
            <th class="mdl-data-table__cell--non-numeric">Month</th>
            <th class="mdl-data-table__cell--non-numeric">Day</th>
          </tr>
          </thead>
          <tbody>
          <th><input class="form-control_cron" type="number" formControlName="year"></th>
          <th><input class="form-control_cron" type="number" formControlName="month"></th>
          <th><input class="form-control_cron" type="number" formControlName="day"></th>
          </tbody>
        </table>
      </label>
    </div>
    <div class="form-group" formGroupName="valid_to">
      <label class="center-block">Valid to:
        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
          <thead>
          <tr>
            <th class="mdl-data-table__cell--non-numeric">Year</th>
            <th class="mdl-data-table__cell--non-numeric">Month</th>
            <th class="mdl-data-table__cell--non-numeric">Day</th>
          </tr>
          </thead>
          <tbody>
          <th><input class="form-control_cron" type="number" formControlName="year"></th>
          <th><input class="form-control_cron" type="number" formControlName="month"></th>
          <th><input class="form-control_cron" type="number" formControlName="day"></th>
          </tbody>
        </table>
      </label>
    </div>

    <div class="form-group">
      <div formArrayName="label" class="well well-lg">
        <div *ngFor="let label of label.controls; let i=index" [formGroupName]="i">
          <div class="panel-heading">
            <span>Merkelapp #{{i + 1}}</span>
            <span class="glyphicon glyphicon-remove pull-right" (click)="removeLabel(i)"></span>
          </div>

          <div class="form-group">
            <label class="center-block">Type:
              <input class="form-control" formControlName="key">
            </label>
          </div>
          <div class="form-group">
            <label class="center-block">Verdi:
              <input class="form-control" formControlName="value">

            </label>
          </div>
        </div>
        <button class="btn btn-success" (click)="addLabel()" type="button">Legg til merkelapp</button>
      </div>
    </div>

    <button class="btn btn-primary" [disabled]="!scheduleForm.valid" *ngIf="!schedule.id"
            (click)="createSchedule(schedule)" novalidate>Create
    </button>
    <button class="btn btn-info" *ngIf="schedule.id" [disabled]="!scheduleForm.valid"
            (click)="updateSchedule(schedule)">Update
    </button>
    <button class="btn btn-danger" *ngIf="schedule.id" (click)="deleteSchedule(schedule.id); $event.stopPropagation()">
      Delete
    </button>


  </form>
</div>
<schedule-sidebar></schedule-sidebar>
