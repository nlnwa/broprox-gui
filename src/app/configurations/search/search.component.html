<div fxLayout="column" fxLayoutGap="16px">
  <div fxLayout="column">
    <div fxLayout="row">
      <mat-form-field fxFlex>
        <input matInput
               (keyup.enter)="onEnterKey($event)"
               placeholder="SÃ¸k"
               autofocus
               i18n-placeholder="@@searchSearchFieldPlaceholder">
      </mat-form-field>
    </div>
    <div>
      <mat-toolbar>
        <h1 i18n="@@searchEntityToolbarHeader">Entitet</h1>
        <span class="fill-space"></span>
        <button mat-mini-fab (click)="onCreateEntity()"
                *ngIf="canEdit" [disabled]="!entitySingleMode">
          <mat-icon matTooltipShowDelay="500"
                    [matTooltip]="!entitySingleMode ? 'Kan ikke opprette en ny entitet nÃ¥r flere er valgt.' : 'Legg til en ny entitet.'">
            add
          </mat-icon>
        </button>
      </mat-toolbar>

      <app-search-list (rowClick)="onSelectEntity($event)"
                       (selectedChange)="onSelectedEntityChange($event)"
                       (selectAll)="onSelectAllEntities($event)">
      </app-search-list>

    </div>
  </div>
  <div fxLayout="row wrap" fxLayout.lt-md="column" fxLayoutGap="16px">
    <!--<div fxFlex [fxHide]="(!entitySingleMode || (entitySingleMode && !selectedEntity))"-->
    <!--[fxShow]="selectedEntity && entitySingleMode">-->
    <div fxFlex *ngIf="selectedEntity$ | async as selectedEntity"
         [fxHide]="!entitySingleMode"
         [fxShow]="selectedEntity">
      <app-entity-details
        [configObject]="selectedEntity"
        (save)="onSaveEntity($event)"
        (update)="onUpdateEntity($event)"
        (delete)="onDeleteEntity($event)"
        (clear)="onClearEntity()">
        <!-- Seedlist -->
        <mat-toolbar>
          <span i18n="@@entitySeedlistToolbarHeader">Seed</span>
          <span class="fill-space"></span>
          <button mat-mini-fab (click)="onCreateSeed(selectedEntity)"
                  *ngIf="canEdit"
                  [disabled]="!seedSingleMode ? true : false"
                  [matTooltip]="!seedSingleMode ? 'Kan ikke opprette en ny seed nÃ¥r flere er valgt.' :'Legg til en ny seed.'">
            <mat-icon>add</mat-icon>
          </button>
        </mat-toolbar>
        <app-base-list
          (rowClick)="onSelectSeed($event)"
          (selectedChange)="onSelectedSeedChange($event)"
          (selectAll)="onSelectAllSeeds($event)">
        </app-base-list>
      </app-entity-details>
    </div>
    <div fxFlex *ngIf="selectedSeed$ | async as selectedSeed">
      <app-seed-details
        [configObject]="selectedSeed"
        (save)="onSaveSeed($event)"
        (update)="onUpdateSeed($event)"
        (delete)="onDeleteSeed($event)"
        (clear)="onClearSeed()">
      </app-seed-details>
    </div>
    <div fxFlex>
      <ng-template detail-host></ng-template>
    </div>
  </div>
</div>
