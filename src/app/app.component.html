<div class="app-container" fxLayout="column">

  <!-- Toolbar -->
  <mat-toolbar fxLayout="row" color="primary" class="app-toolbar">
    <button mat-icon-button (click)="onToggleSidenav()">
      <mat-icon>menu</mat-icon>
    </button>
    <a routerLink="/" class="title"><h1> Veidemann</h1></a>
    <app-time></app-time>
    <span fxFlex></span>
    <a color="primary" mat-raised-button (click)="onLogin()" *ngIf="!name">
      <mat-icon>person</mat-icon>
      <ng-container i18n="@@toolbarLogon">Logg p√•</ng-container>
    </a>
    <a color="primary" mat-raised-button (click)="onLogout()" *ngIf="name"
       [routerLink]="['/activity']" [routerLinkActiveOptions]="{ exact: true}" [routerLinkActive]="['is-active']">
      <mat-icon>person</mat-icon>
      <ng-container i18n="@@toolbarLogon">Logg ut {{name}}</ng-container>
    </a>
  </mat-toolbar>

  <!-- Sidenav -->
  <mat-drawer-container fxFlex>

    <mat-drawer mode="side" [(opened)]="showSidenav">

      <!-- Navigation -->
      <mat-nav-list>
        <a mat-list-item [routerLink]="['/']" [routerLinkActiveOptions]="{ exact: true }"
           [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">dashboard</mat-icon>
          <ng-container i18n="@@navigationSidebarActivity">Aktivitet</ng-container>
        </a>
        <a mat-list-item [routerLink]="['/statistics']" [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">assessment</mat-icon>
          <ng-container i18n="@@navigationSidebarStatistics">Statistikk</ng-container>
        </a>
        <a mat-list-item [routerLink]="['/documentation']" [routerLinkActiveOptions]="{ exact: true }"
           [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">help</mat-icon>
          <ng-container i18n="@@navigationSidebarDocumentation">Dokumentasjon</ng-container>
        </a>

        <ng-container *ngIf="canConfigure">

          <mat-list-item [disableRipple]="true">
            <h3 i18n="@@navigationSidebarConfigHeader">Konfigurasjon</h3>
          </mat-list-item>

          <a mat-list-item [routerLink]="['/search']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">business</mat-icon>
            <ng-container i18n="@@navigationSidebarSearch">Entiteter/Seeds</ng-container>
          </a>

          <ng-container *ngIf="canViewCrawljobs">
            <a mat-list-item [routerLink]="['/crawljobs']" [routerLinkActiveOptions]="{ exact: true }"
               [routerLinkActive]="['is-active']">
              <mat-icon class="sidenav--icon__margin">work</mat-icon>
              <ng-container i18n="@@navigationSidebarCrawljobs">Crawljobs</ng-container>
            </a>
          </ng-container>
          <a mat-list-item [routerLink]="['/schedule']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">schedule</mat-icon>
            <ng-container i18n="@@navigationSidebarSchedule">Schedule</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/crawlconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">settings</mat-icon>
            <ng-container i18n="@@navigationSidebarCrawlconfig">CrawlConfig</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/crawlhostgroupconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">group_work</mat-icon>
            <ng-container i18n="@@navigationSidebarCrawlhostgroupconfig">CrawlHostGroup</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/browserconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">web</mat-icon>
            <ng-container i18n="@@navigationSidebarBrowserconfig">BrowserConfig</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/browserscript']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">web_asset</mat-icon>
            <ng-container i18n="@@navigationSidebarBrowserscript">BrowserScript</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/politenessconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">sentiment_neutral</mat-icon>
            <ng-container i18n="@@navigationSidebarPolitenessconfig">Politeness</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/logconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">receipt</mat-icon>
            <ng-container i18n="@@navigationSidebarLogconfig">Logging</ng-container>
          </a>
          <a *ngIf="canAdministrate" mat-list-item [routerLink]="['/rolemapping']"
             [routerLinkActiveOptions]="{ exact: true}"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">person</mat-icon>
            <ng-container i18n="@@navigationSidebarRolemapping">Brukere</ng-container>
          </a>
          <a *ngIf="canAdministrate" mat-list-item [routerLink]="['/validator']"
             [routerLinkActiveOptions]="{ exact: true}"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">info_outline</mat-icon>
            <ng-container i18n="@@navigationSidebarRolemapping">WARC status</ng-container>
          </a>
        </ng-container>
      </mat-nav-list>
    </mat-drawer>

    <mat-drawer-content>
      <app-dialog></app-dialog>
      <main class="mat-typography">
        <router-outlet></router-outlet>
      </main>
    </mat-drawer-content>

  </mat-drawer-container>
</div>
