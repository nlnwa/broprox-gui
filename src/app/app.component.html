<div class="container" fxLayout="column">
  <!-- Toolbar -->
  <mat-toolbar color="primary">
    <button mat-icon-button (click)="onToggleSidenav()">
      <mat-icon>menu</mat-icon>
    </button>
    <a routerLink="/" class="title"><h1> Veidemann {{ version }}</h1></a>
    <span fxFlex></span>
    <app-time></app-time>
    <span fxFlex></span>
    <a color="primary" mat-raised-button (click)="onLogin()" *ngIf="!name">
      <mat-icon>person</mat-icon>
      <ng-container i18n="@@toolbarLogon">Logg p√•</ng-container>
    </a>
    <a color="primary" mat-raised-button (click)="onLogout()" *ngIf="name"
       [routerLink]="['/activity']" [routerLinkActiveOptions]="{ exact: true}" [routerLinkActive]="['is-active']">
      <mat-icon>person</mat-icon>
      <ng-container i18n="@@toolbarLogon">Logg ut {{name}}</ng-container>
    </a>
    <a color="primary" target="_blank"
       [routerLink]="['/docs']" [routerLinkActiveOptions]="{exact: true}" [routerLinkActive]="['is-active']">
      <button mat-icon-button matTooltip=" Veidemann dashboard dokumentasjon">
        <mat-icon style="color: black">help</mat-icon>
      </button>
    </a>
  </mat-toolbar>

  <mat-drawer-container fxFlex="grow">
    <!-- Sidenav -->
    <mat-drawer mode="side" [(opened)]="showSidenav">
      <!-- Navigation -->
      <mat-nav-list>
        <a mat-list-item [routerLink]="['/']" [routerLinkActiveOptions]="{ exact: true }"
           [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">dashboard</mat-icon>
          <ng-container i18n="@@navigationSidebarActivity">Aktivitet</ng-container>
        </a>
        <a mat-list-item [routerLink]="['/statistics']" [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">assessment</mat-icon>
          <ng-container i18n="@@navigationSidebarStatistics">Statistikk</ng-container>
        </a>

        <ng-container *ngIf="canConfigure">

          <mat-list-item [disableRipple]="true">
            <h3 i18n="@@navigationSidebarConfigHeader">Konfigurasjon</h3>
          </mat-list-item>

          <a mat-list-item [routerLink]="['/search']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">business</mat-icon>
            <ng-container i18n="@@navigationSidebarSearch">Entiteter/Seeds</ng-container>
          </a>

          <a mat-list-item [routerLink]="['/config/collection']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">collections_bookmark</mat-icon>
            <ng-container i18n="@@navigationSidebarCollection">Collection</ng-container>
          </a>

          <ng-container *ngIf="canViewCrawljobs">
            <a mat-list-item [routerLink]="['/config/crawljobs']" [routerLinkActiveOptions]="{ exact: true }"
               [routerLinkActive]="['is-active']">
              <mat-icon class="sidenav--icon__margin">work</mat-icon>
              <ng-container i18n="@@navigationSidebarCrawljobs">Crawljobs</ng-container>
            </a>
          </ng-container>
          <a mat-list-item [routerLink]="['/config/schedule']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">schedule</mat-icon>
            <ng-container i18n="@@navigationSidebarSchedule">Schedule</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/config/crawlconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">settings</mat-icon>
            <ng-container i18n="@@navigationSidebarCrawlconfig">CrawlConfig</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/config/crawlhostgroupconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">group_work</mat-icon>
            <ng-container i18n="@@navigationSidebarCrawlhostgroupconfig">CrawlHostGroup</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/config/browserconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">web</mat-icon>
            <ng-container i18n="@@navigationSidebarBrowserconfig">BrowserConfig</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/config/browserscript']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">web_asset</mat-icon>
            <ng-container i18n="@@navigationSidebarBrowserscript">BrowserScript</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/config/politenessconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">sentiment_neutral</mat-icon>
            <ng-container i18n="@@navigationSidebarPolitenessconfig">Politeness</ng-container>
          </a>
          <a mat-list-item [routerLink]="['/logconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">receipt</mat-icon>
            <ng-container i18n="@@navigationSidebarLogconfig">Logging</ng-container>
          </a>
          <a *ngIf="canAdministrate" mat-list-item [routerLink]="['/config/rolemapping']"
             [routerLinkActiveOptions]="{ exact: true}"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">person</mat-icon>
            <ng-container i18n="@@navigationSidebarRolemapping">Brukere</ng-container>
          </a>
          <a *ngIf="canAdministrate" mat-list-item [routerLink]="['/validator']"
             [routerLinkActiveOptions]="{ exact: true}"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">info_outline</mat-icon>
            <ng-container i18n="@@navigationSidebarRolemapping">WARC status</ng-container>
          </a>
        </ng-container>
      </mat-nav-list>
    </mat-drawer>
    <!-- Content -->
    <mat-drawer-content>
      <app-dialog></app-dialog>
      <main class="content-padding">
        <router-outlet></router-outlet>
      </main>
    </mat-drawer-content>

  </mat-drawer-container>
</div>
