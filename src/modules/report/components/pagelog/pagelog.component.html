<form [formGroup]="form" fxLayout="row wrap" fxLayoutGap="16px">
  <mat-form-field>
    <input matInput
           size="37"
           formControlName="jobExecutionId"
           placeholder="JobExecution ID"
           i18n-placeholder="@@crawlExecutionReportFilterSeedIdPlaceholder">
  </mat-form-field>

  <mat-form-field>
    <input matInput
           size="37"
           formControlName="executionId"
           placeholder="Execution ID"
           i18n-placeholder="@@crawlExecutionReportFilterSeedIdPlaceholder">
  </mat-form-field>

  <mat-form-field>
    <input matInput
           formControlName="uri"
           placeholder="URI"
           i18n-placeholder="@@crawlExecutionReportFilterSeedIdPlaceholder">
  </mat-form-field>
</form>

<mat-progress-bar mode="indeterminate" *ngIf="loading$ | async"></mat-progress-bar>

<div fxLayout="column" fxLayoutGap="16px">
  <app-pagelog-list fxFlex
                    #list
                    [pageLength]="pageLength$ | async"
                    [pageIndex]="pageIndex$ | async"
                    [pageSize]="pageSize$ | async"
                    [sortDirection]="sortDirection$ | async"
                    [sortActive]="sortActive$ | async"
                    (selectedChange)="onSelectedChange($event)"
                    (sort)="onSort($event)"
                    (page)="onPage($event)"
                    [dataSource]="dataSource">
    <a *appAction="let row" mat-icon-button
       [routerLink]="['/report', 'jobexecution']"
       [queryParams]="{id: row.jobExecutionId}">
      <mat-icon matTooltip="Go to job execution"
                i18n-matTooltip="@@crawlExecutionReportListGoToSeedShortcutTooltip">hdr_strong</mat-icon>
    </a>
    <a *appAction="let row" mat-icon-button
       [routerLink]="['/report', 'crawlexecution']"
       [queryParams]="{id: row.executionId}">
      <mat-icon matTooltip="Go to crawl execution"
                i18n-matTooltip="@@crawlExecutionReportListGoToCrawljobShortcutTooltip">hdr_weak</mat-icon>
    </a>
    <a *appAction="let row" mat-icon-button
       target="_blank"
       [href]="appConfigService.waybackUrl + '*?url=' + row.uri">
      <mat-icon matTooltip="Search wayback"
                i18n-matTooltip="@@pageLogListGoToWaybackTooltip">camera</mat-icon>
    </a>

  </app-pagelog-list>
  <app-pagelog-status fxFlex *ngIf="pageLog$ | async as pageLog" [pageLog]="pageLog"></app-pagelog-status>
</div>
