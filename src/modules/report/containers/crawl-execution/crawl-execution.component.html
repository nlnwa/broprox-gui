<div fxLayout="column" class="container">
  <mat-progress-bar mode="indeterminate" *ngIf="loading$ | async"></mat-progress-bar>
  <div class="container" fxLayout="row">
    <app-crawl-execution-status-query style="overflow-y: auto" class="content-padding"
                                      [query]="query$ | async"></app-crawl-execution-status-query>
    <app-crawl-execution-status-list fxFlex style="overflow-y: auto; min-height: 0"
                                     appQueryCrawlExecutionStatus [query]="query$ | async"
                                     [pageIndex]="pageIndex$ | async"
                                     [pageSize]="pageSize$ | async"
                                     [sortDirection]="sortDirection$ | async"
                                     [sortActive]="sortActive$ | async"
                                     (selectedChange)="onSelectedChange($event)"
                                     (sort)="onSort($event)"
                                     (page)="onPage($event)">

    (selectedChange)="onSelectedChange($event)">
      <a *appAction="let row" mat-icon-button
         [routerLink]="['/config', 'seed', row.seedId]">
        <mat-icon matTooltip="Go to seed"
                  i18n-matTooltip="@@crawlExecutionReportListGoToSeedShortcutTooltip">link
        </mat-icon>
      </a>
      <a *appAction="let row" mat-icon-button
         [routerLink]="['/config', 'crawljobs', row.jobId]">
        <mat-icon matTooltip="Go to crawljob"
                  i18n-matTooltip="@@crawlExecutionReportListGoToCrawljobShortcutTooltip">work
        </mat-icon>
      </a>
      <a *appAction="let row" mat-icon-button
         [routerLink]="['../pagelog']"
         [queryParams]="{execution_id: row.id}">
        <mat-icon matTooltip="Go to pagelog"
                  i18n-matTooltip="@@crawlExecutionReportListGoToPagelogShortcutTooltip">art_track
        </mat-icon>
      </a>
      <a *appAction="let row" mat-icon-button
         [routerLink]="['../crawllog']"
         [queryParams]="{execution_id: row.id}">
        <mat-icon matTooltip="Go to crawllog"
                  i18n-matTooltip="@@crawlExecutionReportListGoToCrawlogShortcutTooltip">event_note
        </mat-icon>
      </a>
      <ng-container *appAction="let row">
        <ng-container *ngIf="canAbort(row.state)">
        <a mat-icon-button
           (click)="onAbortCrawlExecution(row)">
          <mat-icon matTooltip="Abort crawl"
                    i18n-matTooltip="@@crawljobExecutionReportAbortCrawlExecutionTooltip">cancel
          </mat-icon>
        </a>
        </ng-container>
      </ng-container>
    </app-crawl-execution-status-list>
  </div>
</div>
