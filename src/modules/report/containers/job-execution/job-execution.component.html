<div class="container" *ngIf="query$ | async as query">
  <mat-progress-bar mode="indeterminate" *ngIf="loading$ | async"></mat-progress-bar>
  <div class="container" fxLayout="row">
    <app-job-execution-status-query
      class="content-padding scroll"
      [crawlJobOptions]="crawlJobOptions" [query]="query"
      (queryChange)="onQueryChange($event)"></app-job-execution-status-query>
    <app-job-execution-status-list fxFlex
                                   appQueryJobExecutionStatus [query]="query"
                                   [pageIndex]="pageIndex$ | async"
                                   [pageSize]="pageSize$ | async"
                                   [sortDirection]="sortDirection$ | async"
                                   [sortActive]="sortActive$ | async"
                                   (selectedChange)="onSelectedChange($event)"
                                   (sort)="onSort($event)"
                                   (page)="onPage($event)">
      <a *appAction="let row" mat-icon-button
         [routerLink]="['/config', 'crawljobs']"
         [queryParams]="{id: row.jobId}">
        <mat-icon matTooltip="Go to crawljob"
                  i18n-matTooltip="@@crawljobExecutionReportGoToCrawljobShortcutTooltip">work
        </mat-icon>
      </a>
      <a *appAction="let row" mat-icon-button
         [routerLink]="['/report', 'crawlexecution']"
         [queryParams]="{job_execution_id: row.id}">
        <mat-icon matTooltip="Go to crawlexecution"
                  i18n-matTooltip="@@crawljobExecutionReportGoToCrawlExecutionShortcutTooltip">hdr_weak
        </mat-icon>
      </a>
      <ng-container *appAction="let row">
        <ng-container *ngIf="row.state === JobExecutionState.RUNNING">
          <a mat-icon-button
             (click)="onAbortJobExecution(row)">
            <mat-icon matTooltip="Abort crawl"
                      i18n-matTooltip="@@crawljobExecutionReportAbortCrawlExecutionTooltip">cancel
            </mat-icon>
          </a>
        </ng-container>
      </ng-container>
    </app-job-execution-status-list>
  </div>
</div>
